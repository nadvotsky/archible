{%- set _indent = {"space": 4} -%}

#
# PipeWire client configuration.
#
context.properties = {
    {{ _gd_context | relative_indent(times=1, **_indent) }}
}

context.spa-libs = {
    audio.convert.* = audioconvert/libspa-audioconvert
    support.* = support/libspa-support
}

context.modules = [
    {{ _gd_realtime | relative_indent(times=1, **_indent) }}

    { name = libpipewire-module-protocol-native }

    { name = libpipewire-module-client-node }
    { name = libpipewire-module-client-device }

    { name = libpipewire-module-adapter }
    { name = libpipewire-module-metadata }

    { name = libpipewire-module-session-manager }
]

stream.properties = {
    {{ _gd_stream | relative_indent(times=1, **_indent) }}
}
